(function(e){function t(t){for(var o,c,l=t[0],i=t[1],s=t[2],u=0,v=[];u<l.length;u++)c=l[u],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&v.push(a[c][0]),a[c]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);d&&d(t);while(v.length)v.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,l=1;l<n.length;l++){var i=n[l];0!==a[i]&&(o=!1)}o&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},a={app:0},r=[];function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var d=i;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"565d":function(e,t,n){},"8dfc":function(e,t,n){"use strict";n("b830")},b830:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");function a(e,t,n,a,r,c){var l=Object(o["w"])("navbar"),i=Object(o["w"])("router-view");return Object(o["r"])(),Object(o["f"])(o["a"],null,[Object(o["h"])(l,{id:"navbar",onSetShape:e.provideShape,onSetMode:e.provideMode,onSaveEdit:e.saveEdit},null,8,["onSetShape","onSetMode","onSaveEdit"]),Object(o["h"])(i)],64)}var r={class:"flow-root w-screen h-12 bg-white items-center justify-between px-6 z-10"},c=Object(o["g"])("div",{class:"float-left justify-left font-bold"}," LAVAMAP ",-1),l={class:"float-right justify-right"},i={class:"vertical-divider m-3"},s=Object(o["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 m-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Object(o["g"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})],-1),d={class:"float-right justify-right"},u={class:"vertical-divider m-3"},v=Object(o["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 m-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Object(o["g"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})],-1),p=Object(o["g"])("div",{class:"float-right justify-left text-black h-6 pt-5 mr-3"},"a=add, e=edit, d=delete, t=translate, r=rotate, s=scale",-1);function b(e,t,n,a,b,m){var h=Object(o["w"])("mode-dropdown"),f=Object(o["w"])("shape-dropdown");return Object(o["r"])(),Object(o["f"])("header",r,[c,Object(o["g"])("div",l,[Object(o["g"])("div",{class:"flex pt-2 pb-4",onClick:t[1]||(t[1]=function(t){return e.modeOpen=!e.modeOpen})},[Object(o["g"])("div",i,"Current Mode: "+Object(o["y"])(e.selectedMode),1),e.modeOpen?(Object(o["r"])(),Object(o["d"])(h,{key:0,modes:e.modes,onCloseMenu:e.closeMenus,onSelectedMode:e.setMode},null,8,["modes","onCloseMenu","onSelectedMode"])):Object(o["e"])("",!0),s,e.isEdit?(Object(o["r"])(),Object(o["f"])("button",{key:1,class:"bg-transparent hover:bg-black text-black font-semibold hover:text-white h-7 px-2 border border-blue-500 hover:border-transparent rounded",onClick:t[0]||(t[0]=function(){return e.saveEdit&&e.saveEdit.apply(e,arguments)})}," Save ")):Object(o["e"])("",!0)])]),Object(o["g"])("div",d,[Object(o["g"])("div",{class:"flex pt-2 pb-4",onClick:t[2]||(t[2]=function(t){return e.shapeOpen=!e.shapeOpen})},[Object(o["g"])("div",u,"Current Shape: "+Object(o["y"])(e.shapeName),1),e.shapeOpen?(Object(o["r"])(),Object(o["d"])(f,{key:0,shapes:e.shapes,onCloseMenu:e.closeMenus,onSelectedShape:e.setShape},null,8,["shapes","onCloseMenu","onSelectedShape"])):Object(o["e"])("",!0),v])]),p])}var m={id:"shape-dropdown",class:"absolute top-11 overflow-hidden medium-gray-border dark-medium-gray-bg z-10 py-1"},h=["onClick"];function f(e,t,n,a,r,c){return Object(o["r"])(),Object(o["f"])("div",m,[(Object(o["r"])(!0),Object(o["f"])(o["a"],null,Object(o["v"])(e.navbarShapes,(function(t,n){return Object(o["r"])(),Object(o["f"])("a",{key:n,class:"block text-white hover:text-switchRed p-1 px-2"},[Object(o["g"])("span",{onClick:function(n){return e.emitShape(t)}},Object(o["y"])(t),9,h)])})),128))])}var j=Object(o["i"])({props:{shapes:{type:Array,required:!0}},emits:["closeMenu","selectedShape"],setup:function(e,t){var n=t.emit,a=Object(o["z"])(e,"shapes").value,r=Object(o["u"])("Cube");function c(e){r.value=e,n("selectedShape",r.value)}function l(e){"shape-dropdown"!==e.target.id&&n("closeMenu")}return Object(o["p"])((function(){document.addEventListener("click",l,!0),console.log("ns: ",a)})),Object(o["q"])((function(){document.removeEventListener("click",l,!0)})),{navbarShapes:a,selectedShape:r,emitShape:c}}}),g=n("6b0d"),O=n.n(g);const w=O()(j,[["render",f]]);var y=w,M={id:"mode-dropdown",class:"absolute top-11 overflow-hidden medium-gray-border dark-medium-gray-bg z-10 py-1"},S=["onClick"];function k(e,t,n,a,r,c){return Object(o["r"])(),Object(o["f"])("div",M,[(Object(o["r"])(!0),Object(o["f"])(o["a"],null,Object(o["v"])(e.navbarModes,(function(t,n){return Object(o["r"])(),Object(o["f"])("a",{key:n,class:"block text-white hover:text-switchRed p-1 px-2"},[Object(o["g"])("span",{onClick:function(n){return e.emitMode(t)}},Object(o["y"])(t),9,S)])})),128))])}var E=Object(o["i"])({props:{modes:{type:Array,required:!0}},emits:["closeMenu","selectedMode"],setup:function(e,t){var n=t.emit,a=Object(o["z"])(e,"modes").value,r=Object(o["u"])("Cube");function c(e){r.value=e,n("selectedMode",r.value)}function l(e){"mode-dropdown"!==e.target.id&&n("closeMenu")}return Object(o["p"])((function(){document.addEventListener("click",l,!0),console.log("ns: ",a)})),Object(o["q"])((function(){document.removeEventListener("click",l,!0)})),{navbarModes:a,selectedMode:r,emitMode:c}}});const x=O()(E,[["render",k]]);var C=x,P=Object(o["i"])({components:{ShapeDropdown:y,ModeDropdown:C},emits:["setMode","setShape","saveEdit"],setup:function(e,t){var n=t.emit,a=["Add","Edit","Delete"],r=Object(o["u"])(!1),c=Object(o["u"])(Object(o["l"])("isEdit")),l=Object(o["u"])(Object(o["l"])("selectedMode"));function i(e){console.log("val: ",e),"Edit"===e&&(c.value=!0),l.value=e,n("setMode",l)}var s=["Cube","Tetrahedron","Sphere"],d=Object(o["u"])(""),u=Object(o["u"])(!1);function v(e){console.log("val: ",e),d.value=e,n("setShape",d)}function p(){var e;null===(e=document.getElementById("shape-dropdown-button"))||void 0===e||e.blur()}function b(){console.log("in Navbar and saving"),n("saveEdit")}return Object(o["p"])((function(){c.value=!1,i(l.value=a[0]),v(d.value=s[0])})),{selectedMode:l,modes:a,modeOpen:r,setMode:i,shapeName:d,shapes:s,shapeOpen:u,setShape:v,closeMenus:p,isEdit:c,saveEdit:b}}});const z=O()(P,[["render",b]]);var A=z,L=Object(o["i"])({components:{Navbar:A},setup:function(){var e=Object(o["u"])("");function t(t){console.log("mode on App: ",t.value),e.value=t.value}var n=Object(o["u"])(!1);function a(){console.log("edits have been saved, exit edit mode"),n.value=!1}var r=Object(o["u"])("");function c(e){console.log("shape on App: ",e.value),r.value=e.value}return Object(o["s"])("selectedShape",r),Object(o["s"])("selectedMode",e),Object(o["s"])("saveEdit",!1),Object(o["s"])("isEdit",n),{provideShape:c,provideMode:t,saveEdit:a}}});n("8dfc");const D=O()(L,[["render",a]]);var R=D,T=n("6c02"),q=(n("b0c0"),n("d3b7"),n("25f0"),n("caad"),n("2532"),n("159b"),n("5a89")),F=n("4721");function H(e,t){var n=Object(o["u"])(new F["a"](e,t));return"PerspectiveCamera"===e.type?(n.value.enableDamping=!0,n.value.dampingFactor=.05,n.value.screenSpacePanning=!1,n.value.minDistance=.1,n.value.maxDistance=1e3,n.value.enableRotate=!0,n.value.enablePan=!0,n.value.minPolarAngle=q["m"].degToRad(0),n.value.maxPolarAngle=q["m"].degToRad(89)):"OrthographicCamera"===e.type&&(n.value.enableDamping=!0,n.value.dampingFactor=.05,n.value.screenSpacePanning=!1,n.value.minDistance=.1,n.value.maxDistance=1e3,n.value.enableRotate=!1,n.value.enablePan=!0),n}function _(e,t){var n=e*t,o=e,a=e,r=a/t,c=1,l=1e3,i=new q["s"](n/-2,n/2,o/2,o/-2,c,l),s=r<o?o/r*10:1;return i.position.copy(new q["F"](0,0,0)),i.zoom=s,i.lookAt(0,0,0),i.updateProjectionMatrix(),i.name="orthoCamera",i}function B(e,t){var n=50,o=.1,a=2*e,r=new q["t"](n,t,o,a),c=Math.tan(30*Math.PI/180)*(e/10),l=Math.tan(60*Math.PI/180)*c;return r.position.set(0,l,c),r.lookAt(0,0,0),r.updateProjectionMatrix(),r.name="perspCamera",r}var N=n("b1f1"),I=Object(o["i"])({emits:["selectedMode"],setup:function(e,t){var n,a=t.emit,r=(Object(o["u"])(document.querySelector("#navbar")?null===(n=document.querySelector("#navbar"))||void 0===n?void 0:n.clientHeight:0),Object(o["u"])(document.documentElement.clientWidth)),c=Object(o["u"])(document.documentElement.clientHeight),l=r.value/c.value,i=new q["G"]({antialias:!0});i.setSize(r.value,c.value),i.setPixelRatio(Math.min(window.devicePixelRatio,2)),i.physicallyCorrectLights=!0,i.outputEncoding=q["H"],i.toneMapping=q["x"],i.toneMappingExposure=12;var s=function(){i.render(d,S.value)},d=new q["y"];d.background=new q["c"]("#000");var u=100,v=2*u,p=new q["i"](u,v);p.name="grid",d.add(p);var b=Object(o["l"])("selectedShape");function m(e,t){return"Cube"===b.value?f(e,t):"Tetrahedron"===b.value?g(e,t):"Sphere"===b.value?w(e,t):void console.log("What are you trying to build there, bud?")}console.log("selectedShape: ",b.value);var h=0;function f(e,t){var n={width:1,height:1,depth:1},o=16777215,a=new q["a"](n.width,n.height,n.depth),r=new q["p"]({color:o,wireframe:!1,transparent:!1}),c=new q["o"](a,r);return c.position.copy(new q["F"](Math.round(e),n.height/2,Math.round(t))),c.material.color.setHex(Math.random()*o),c.name="mesh-cube"+h.toString(),h++,c}var j=0;function g(e,t){var n=.5,o=16777215,a=new q["C"](n),r=new q["p"]({color:o,wireframe:!1,transparent:!1}),c=new q["o"](a,r);return c.position.copy(new q["F"](Math.round(e),n/1.75,Math.round(t))),c.material.color.setHex(Math.random()*o),c.name="mesh-tetra"+j.toString(),j++,c}var O=0;function w(e,t){var n=.5,o=12,a=8,r=16777215,c=new q["z"](n,o,a),l=new q["p"]({color:r,wireframe:!1,transparent:!1}),i=new q["o"](c,l);return i.position.copy(new q["F"](Math.round(e),n,Math.round(t))),i.material.color.setHex(Math.random()*r),i.name="mesh-sphere"+O.toString(),O++,i}var y=B(u,l),M=_(u,l),S=Object(o["u"])();S.value=y,d.add(S.value);var k=H(y,i.domElement);k.value.addEventListener("change",s);var E=H(M,i.domElement);E.value.enabled=!1,E.value.addEventListener("change",s);var x=new N["a"](S.value,i.domElement);x.setSize(1),x.addEventListener("change",s),x.addEventListener("dragging-changed",(function(e){k.value.enabled=!e.value,E.value.enabled=!e.value})),x.setTranslationSnap(1),x.setRotationSnap(q["m"].degToRad(15)),x.setScaleSnap(1);var C=new q["w"],P=Object(o["u"])(new q["E"]),z=Object(o["l"])("selectedMode"),A=Object(o["u"])(Object(o["l"])("isEdit"));function L(e){switch(e.key){case"a":case"A":z.value="Add",a("selectedMode",z.value);break;case"e":case"E":z.value="Edit";break;case"d":case"D":z.value="Delete";break;case"t":case"T":console.log("you tryina Translate, bro?"),x.setMode("translate");break;case"r":case"R":!1===e.ctrlKey&&(console.log("yo, where is the rotation?"),x.setMode("rotate"),x.rotationSnap=q["m"].degToRad(15));break;case"s":case"S":console.log("adjust scale?"),x.setMode("scale");break;case"+":case"=":x.setSize(x.size+.1);break;case"-":case"_":x.setSize(Math.max(x.size-.1,.1));break;case"x":x.showX=!x.showX;break;case"y":x.showY=!x.showY;break;case"z":x.showZ=!x.showZ;break;case" ":x.enabled=!x.enabled;break;case"Esc":x.reset();break}}Object(o["B"])((function(){return z.value}),(function(e){A.value="Edit"===e})),Object(o["B"])((function(){return A.value}),(function(e){!1===e?(console.log("isEdit is false"),x.detach(),x.enabled=!1,d.remove(x)):!0===e&&(x.enabled=!0)}));function D(e){e.preventDefault();var t=C.intersectObjects(d.children,!0);if(t.length>0)switch(console.log("intersect: ",t[0]),z.value){case"Add":if(console.log("Add click: ",t[0]),"GridHelper"===t[0].object.type){console.log("intersect: ",t[0]);var n=m(t[0].point.x,t[0].point.z);d.add(n),console.log("mesh: ",n),t.length=0}break;case"Edit":console.log("Edit click: ",t[0]),x.enabled=A.value=!0,t[0].object.name.includes("mesh")&&t.forEach((function(e){console.log("yo - editing"),x.attach(e.object),d.add(x),t.length=0}));break;case"Delete":console.log("Delete click: ",t[0]),t[0].object.name.includes("mesh")&&(console.log("deleted: ",t[0].object.name),t[0].object.removeFromParent(),t.length=0);break}}var R=function e(){"PerspectiveCamera"===S.value.type?k.value.update():E.value.update(),C.setFromCamera(P.value,S.value),s(),window.requestAnimationFrame(e)};function T(){r.value=document.documentElement.clientWidth,c.value=document.documentElement.clientHeight;var e=r.value/c.value;y.aspect=e,y.updateProjectionMatrix(),M.left=M.bottom*e,M.right=M.top*e,M.updateProjectionMatrix(),i.setSize(r.value,c.value),s()}Object(o["p"])((function(){console.log("you mounted");var e=document.querySelector("#app");null===e||void 0===e||e.append(i.domElement),window.addEventListener("keydown",L,!0),window.addEventListener("resize",T,!0);var t=i.domElement.getBoundingClientRect();i.domElement.addEventListener("mousemove",(function(e){P.value.x=(e.offsetX-t.left)/(t.right-t.left)*2-1,P.value.y=-(e.offsetY-t.top)/(t.bottom-t.top)*2+1})),i.domElement.addEventListener("mousedown",D,!0),console.log("onMounted selectedShape: ",b.value),console.log("onMounted selectedMode: ",z.value),R()})),Object(o["q"])((function(){var e;console.log("you unmounted"),null===(e=document.querySelector("#app"))||void 0===e||e.removeChild(i.domElement),window.removeEventListener("keydown",L,!0),window.removeEventListener("resize",T,!0)}))}});const V=I;var W=V,X=[{path:"/",name:"Home",component:W,props:!0}],Y=Object(T["a"])({history:Object(T["b"])("/"),routes:X}),G=Y;n("565d");Object(o["c"])(R).use(G).mount("#app")}});
//# sourceMappingURL=app.7f6b277e.js.map